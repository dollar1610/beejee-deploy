(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,a){e.exports=a(64)},61:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(14),s=a.n(o),l=a(17),r=a(16),i=a(33),d=a(8),m="TASK_LIST",u="IS_ADMIN",p="ACTIVE_PAGE",g={taskList:[],isAdmin:!1,activePage:1};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)({},e,{taskList:t.payload});case u:return Object(d.a)({},e,{isAdmin:t.payload});case p:return Object(d.a)({},e,{activePage:t.payload});default:return e}},b=Object(i.combineReducers)({appReducer:h}),v=Object(r.b)(b),E=a(9),k=a(10),f=a(13),y=a(11),O=a(12),j=a(3),x=a(34),C=a.n(x),w=a(35),I=a.n(w),N=a(70),A=a(71),T=a(65),P=a(66),D=a(67),S=a(68),B=a(69),R=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(j.a)(Object(j.a)(a))),a}return Object(O.a)(t,e),Object(k.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{modal:!e.modal}})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("button",{className:"btn",onClick:this.toggle},"\u0412\u0445\u043e\u0434 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"),c.a.createElement(A.a,{isOpen:this.state.modal,toggle:this.toggle},c.a.createElement(T.a,{toggle:this.toggle},"\u0412\u0445\u043e\u0434"),c.a.createElement(P.a,null,c.a.createElement(D.a,{id:"login",type:"text",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),c.a.createElement(D.a,{id:"password",type:"text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})),c.a.createElement(S.a,null,c.a.createElement(B.a,{onClick:function(){e.props.signIn(),e.toggle()},color:"primary"},"\u0412\u043e\u0439\u0442\u0438"))))}}]),t}(c.a.Component),_=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(j.a)(Object(j.a)(a))),a}return Object(O.a)(t,e),Object(k.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{modal:!e.modal}})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("button",{className:"btn",onClick:this.toggle},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"),c.a.createElement(A.a,{isOpen:this.state.modal,toggle:this.toggle},c.a.createElement(T.a,{toggle:this.toggle},"\u041e\u043a\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"),c.a.createElement(P.a,null,c.a.createElement(D.a,{id:"createUsername",type:"text",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),c.a.createElement(D.a,{id:"createEmail",type:"text",placeholder:"\u041f\u043e\u0447\u0442\u0430"}),c.a.createElement(D.a,{id:"createText",type:"text",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438"})),c.a.createElement(S.a,null,c.a.createElement(B.a,{onClick:function(){e.props.createTask(),e.toggle()},color:"primary"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))))}}]),t}(c.a.Component),L=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(j.a)(Object(j.a)(a))),a}return Object(O.a)(t,e),Object(k.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{modal:!e.modal}})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("textarea",{onClick:this.toggle,defaultValue:this.props.value,readOnly:!this.props.isAdmin}),c.a.createElement(A.a,{isOpen:this.state.modal,toggle:this.toggle},c.a.createElement(T.a,{toggle:this.toggle},"\u041e\u043a\u043d\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"),c.a.createElement(P.a,null,c.a.createElement("textarea",{id:"editText",defaultValue:this.props.value}),c.a.createElement(D.a,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u0434\u0430\u0447\u0438",id:"editStatus",type:"text"})),c.a.createElement(S.a,null,c.a.createElement(B.a,{onClick:function(){e.props.editText(e.props.taskId),e.toggle()},color:"primary"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))))}}]),t}(c.a.Component);function U(e){var t="";return Object.keys(e).forEach(function(a){t+="".concat(a,"=").concat(encodeURIComponent(e[a])),t+="&"}),t=t.slice(0,t.length-1)}a(61);var V=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={},a.loadData=a.loadData.bind(Object(j.a)(Object(j.a)(a))),a.changeActivePage=a.changeActivePage.bind(Object(j.a)(Object(j.a)(a))),a.signIn=a.signIn.bind(Object(j.a)(Object(j.a)(a))),a.sort=a.sort.bind(Object(j.a)(Object(j.a)(a))),a.createTask=a.createTask.bind(Object(j.a)(Object(j.a)(a))),a.editText=a.editText.bind(Object(j.a)(Object(j.a)(a))),a}return Object(O.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"changeActivePage",value:function(e){this.props.dispatch({type:p,payload:e})}},{key:"createTask",value:function(){var e=this,t=document.getElementById("createUsername").value,a=document.getElementById("createEmail").value,n=document.getElementById("createText").value,c=new FormData;c.append("username",encodeURIComponent(t)),c.append("email",a),c.append("text",encodeURIComponent(n)),fetch("https://uxcandy.com/~shapoval/test-task-backend/create?developer=Example",{method:"POST",body:c}).then(function(t){console.log(t.status),200===t.status&&(console.log(t.json()),e.loadData())})}},{key:"editText",value:function(e){this.props.App.taskList.tasks;var t=document.getElementById("editText").value,a=document.getElementById("editStatus").value,n="";[{text:t},{status:a}].sort().map(function(e){return n+=U(e),n+="&",null}),n+=U({token:"beejee"});var c=U({text:t,status:a,token:"beejee"});console.log(n,c),fetch("https://uxcandy.com/~shapoval/test-task-backend/edit/:".concat(e,"?developer=Example&signature=").concat(I()(n)),{method:"POST",body:"".concat(c)}).then(function(e){return console.log(e.json())}),this.loadData(c)}},{key:"signIn",value:function(){var e=document.getElementById("login").value,t=document.getElementById("password").value;"admin"===e&&"123"===t&&this.props.dispatch({type:u,payload:!0})}},{key:"sort",value:function(e){var t=U({sort_field:e.target.dataset.sort,sort_direction:e.target.dataset.sortDirection});console.log(t),this.loadData(t)}},{key:"loadData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=this.props.App.activePage;fetch("https://uxcandy.com/~shapoval/test-task-backend/?developer=Name&".concat(t,"&page=").concat(a)).then(function(e){return e.json()}).then(function(t){var a;e.props.dispatch((a=t.message,{type:m,payload:a}))})}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props.App.taskList.tasks||[],a=this.props.App.isAdmin,n=this.props.App.taskList.total_task_count,o=this.props.App.activePage;return c.a.createElement("div",{className:"App"},c.a.createElement(N.a,null,c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"admin"},c.a.createElement(R,{signIn:this.signIn})),c.a.createElement(_,{createTask:this.createTask})),c.a.createElement("div",{className:"body"},c.a.createElement("div",{className:"body-header"},c.a.createElement("span",null,"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"),c.a.createElement("div",{className:"username"},"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",c.a.createElement("button",{onClick:this.sort},c.a.createElement("i",{"data-sort-direction":"asc","data-sort":"username",className:"fas fa-arrow-up"})),c.a.createElement("button",{onClick:this.sort},c.a.createElement("i",{"data-sort-direction":"desc","data-sort":"username",className:"fas fa-arrow-down"}))),c.a.createElement("div",{className:"email"},"E-mail",c.a.createElement("button",{onClick:this.sort},c.a.createElement("i",{"data-sort-direction":"asc","data-sort":"email",className:"fas fa-arrow-up"})),c.a.createElement("button",{onClick:this.sort},c.a.createElement("i",{"data-sort-direction":"desc","data-sort":"email",className:"fas fa-arrow-down"}))),c.a.createElement("div",{className:"status"},"\u0421\u0442\u0430\u0442\u0443\u0441",c.a.createElement("button",{onClick:this.sort},c.a.createElement("i",{"data-sort-direction":"asc","data-sort":"status",className:"fas fa-arrow-up"})),c.a.createElement("button",{onClick:this.sort},c.a.createElement("i",{"data-sort-direction":"desc","data-sort":"status",className:"fas fa-arrow-down"})))),c.a.createElement("div",{className:"body-tasks"},t.map(function(t){return c.a.createElement("div",{key:t.id,className:"body-tasks-item"},c.a.createElement("div",{className:"body-task-status"},c.a.createElement("input",{defaultChecked:10===t.status,type:"checkbox"})),c.a.createElement("div",{className:"body-tasks-item-name"},c.a.createElement("span",null,t.username)),c.a.createElement("div",{className:"body-tasks-item-email"},c.a.createElement("span",null,t.email)),c.a.createElement("div",{className:"body-tasks-item-text"},a?c.a.createElement(L,{taskId:t.id,editText:e.editText,value:t.text,isAdmin:a}):c.a.createElement("textarea",{value:t.text,readOnly:!a})))}),c.a.createElement(C.a,{activePage:o,itemsCountPerPage:10,totalItemsCount:n,pageRangeDisplayed:5,onChange:this.changeActivePage,itemClass:"page-item",linkClass:"page-link"})))))}}]),t}(n.Component),J=Object(l.b)(function(e){return{App:e.get("appReducer")}},function(e){return{dispatch:e}})(V);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(62),a(63);s.a.render(c.a.createElement(l.a,{store:v},c.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.3373522e.chunk.js.map